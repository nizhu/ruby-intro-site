<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Ruby Intro]]></title>
  <link href="http://nizhu.github.io/ruby-intro-site/atom.xml" rel="self"/>
  <link href="http://nizhu.github.io/ruby-intro-site/"/>
  <updated>2013-07-31T21:44:38+10:00</updated>
  <id>http://nizhu.github.io/ruby-intro-site/</id>
  <author>
    <name><![CDATA[Nick Zhu]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Consuming JSON resources through HTTP]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/31/consuming-json-resources-through-http/"/>
    <updated>2013-07-31T21:44:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/31/consuming-json-resources-through-http</id>
    <content type="html"><![CDATA[
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Parsing XML with XMLSimple]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/31/parsing-xml-with-xmlsimple/"/>
    <updated>2013-07-31T20:19:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/31/parsing-xml-with-xmlsimple</id>
    <content type="html"><![CDATA[<p>For the purpose of this exercise, I&rsquo;ve downloaded and extracted a zip file from the AEC&rsquo;s site <code>ftp://results.aec.gov.au/15508/Detailed/Light/aec-mediafeed-Detailed-Light-15508-20100817220150.zip</code>. Ruby has an XML parser called REXML in its standard library, but it&rsquo;s known to be very slow &ndash; <a href="http://www.rubyinside.com/ruby-xml-performance-benchmarks-1641.html">Some 50 times slower than Nokogiri</a>. I would love to demonstrate Nokogiri, but unfortunately it&rsquo;s more complex to use than XmlSimple. XmlSimple parses the data into a native Ruby hash whereas Nokogiri has its own set of classes.</p>

<h1>Third Party libraries</h1>

<p>Third party libraries in Ruby are referred to as gems. Gem is an executable that comes with Ruby. Tell it to install, along with the name of the gem and it will download and install the gem that you want as well as all its dependencies.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install xml-simple</span></code></pre></td></tr></table></div></figure>


<h1>Let&rsquo;s Parse!</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>require 'xmlsimple'
</span><span class='line'>xml = File.read 'data/xml/aec-mediafeed-results-detailed-light-15508.xml'
</span><span class='line'>data = XmlSimple.xml_in xml</span></code></pre></td></tr></table></div></figure>


<p>Parsing XML takes a little while, and XmlSimple isn&rsquo;t the most efficient of parsers. If speed is a concern at all, you should definitely look into <a href="http://nokogiri.org/">Nokogiri</a>.</p>

<p>Once it&rsquo;s done we can see what&rsquo;s in there one step at a time.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>data.keys
</span><span class='line'># ["Id", "Created", "SchemaVersion", "EmlVersion", "xmlns", "xmlns:eml", "xmlns:ds", "xmlns:xal", "xmlns:xnl", "xmlns:ts", "xmlns:xs", "xs:schemaLocation", "ManagingAuthority", "MessageLanguage", "MessageGenerator", "Cycle", "Results"]
</span><span class='line'>
</span><span class='line'>data.["Results"].keys
</span><span class='line'># NoMethodError
</span><span class='line'>
</span><span class='line'>data.["Results"].class
</span><span class='line'># Array
</span><span class='line'>
</span><span class='line'>data.["Results"][0].class
</span><span class='line'># Hash
</span><span class='line'>
</span><span class='line'>data["Results"][0]["Election"][0]["House"][0]["Contests"][0]["Contest"][0].keys
</span><span class='line'># ["Projected", "ContestIdentifier", "Enrolment", "FirstPreferences", "TwoCandidatePreferred", "TwoPartyPreferred", "PollingPlaces"]
</span><span class='line'>
</span><span class='line'>data["Results"][0]["Election"][0]["House"][0]["Contests"][0]["Contest"][0]["TwoPartyPreferred"][0]["Coalition"][0]["Votes"]
</span><span class='line'># 0
</span><span class='line'>
</span><span class='line'>data["Results"][0]["Election"][0]["House"][0]["Contests"][0]["Contest"][0]["Enrolment"]
</span><span class='line'># 124215</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Classes]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/31/classes/"/>
    <updated>2013-07-31T09:14:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/31/classes</id>
    <content type="html"><![CDATA[<p>Ruby is a Object Oriented language so it&rsquo;s no less than intuitive to have classes. The following code block shows the basic syntax of a Ruby class.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Counter
</span><span class='line'>  @@classCount = 0
</span><span class='line'>  @instanceCount
</span><span class='line'>
</span><span class='line'>  def initialize(startInstanceCount)
</span><span class='line'>    @instanceCount = startInstanceCount
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  def icIncrement
</span><span class='line'>    @instanceCount += 1
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  def self.ccIncrement
</span><span class='line'>    @@classCount += 1
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  def to_s
</span><span class='line'>    "classCount = #{@@classCount} and instanceCount = #{@instanceCount}"
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>We have a Class variable, <code>@@classCount</code>. This is equivalent to the keyword <code>static</code> in Java. There&rsquo;s an Instance variable <code>@instanceCount</code>.</p>

<p>Then there are the methods. <code>initialize</code> is the constructor used when you run <code>Counter.new</code>, <code>icIncrement</code> is an instance method, while <code>self.ccIncrement</code> is a class method &ndash; called with <code>Counter.ccIncrement</code>.</p>

<p>Finally <code>to_s</code> is the conversion of the class to a String, just like <code>toString()</code>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>a = Counter.new 0
</span><span class='line'>b = Counter.new 0
</span><span class='line'>
</span><span class='line'>a.ccIncrement
</span><span class='line'>a.icIncrement
</span><span class='line'>
</span><span class='line'>puts b
</span><span class='line'># classCount = 1 and instanceCount = 0
</span><span class='line'>
</span><span class='line'>b = Counter.new 5
</span><span class='line'>puts b
</span><span class='line'># classCount = 1 and instanceCount = 5</span></code></pre></td></tr></table></div></figure>


<h2>Variable Scope</h2>

<p>Scope-wise, there are 5 different types of variables in Ruby and they are simply differentiated by the first character of their name.</p>

<ol>
<li>$: Global</li>
<li>@@: Class</li>
<li>@: Instance</li>
<li>[A-Z]: Constant</li>
<li>[a-z_]: Local</li>
</ol>


<p>Note that Constants can still be changed. The interpreter will simply issue a warning that that is the case, but the value assigning will proceed.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Aconstant = 1
</span><span class='line'>Aconstant = 2
</span><span class='line'># warning: already initialized constant Aconstant
</span><span class='line'># warning: previous definition of Aconstant was here
</span><span class='line'># 2</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Functions]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/30/functions/"/>
    <updated>2013-07-30T12:55:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/30/functions</id>
    <content type="html"><![CDATA[<p>Firstly the syntax. Let&rsquo;s first define a very basic function we can use for this post.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def print_stuff(str1, str2, reverse = false)
</span><span class='line'>  if reverse
</span><span class='line'>    puts "#{str2} and #{str1} received!"
</span><span class='line'>  else
</span><span class='line'>    puts "#{str1} and #{str2} received!"
</span><span class='line'>  end
</span><span class='line'>  str = str1 + str2
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<h3>Calling functions</h3>

<p>Brackets around function parameters is optional in Ruby. However, sometimes it&rsquo;s useful to include them regardless for clarity&rsquo;s sake.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>print_stuff("First argument", "Second argument")
</span><span class='line'># First argument and Second argument received!
</span><span class='line'>
</span><span class='line'>print_stuff "First argument", "Second argument"
</span><span class='line'># First argument and Second argument received!</span></code></pre></td></tr></table></div></figure>


<p>Arguments can be made optional by giving them a default value.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>print_stuff("First argument", "Second argument", false)
</span><span class='line'># First argument and Second argument received!
</span><span class='line'>
</span><span class='line'>print_stuff("First argument", "Second argument", true)
</span><span class='line'># Second argument and First argument received!</span></code></pre></td></tr></table></div></figure>


<h3>Return value</h3>

<p>As you may have already noticed, <code>print_stuff</code> does use <code>return</code> even though it does exist in Ruby and it does exactly what you&rsquo;d expect. If the return value is not specified, Ruby will return the value returned in the last executed line of the block</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def add(a, b)
</span><span class='line'>  a + b
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>puts add(1, 2)
</span><span class='line'># 3
</span><span class='line'>
</span><span class='line'>def add_return(a, b)
</span><span class='line'>  return a + b
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>puts add_return(1,2)
</span><span class='line'># 3
</span><span class='line'>
</span><span class='line'>def add_print(a, b)
</span><span class='line'>  a + b
</span><span class='line'>  print "add successful"
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>puts add_print(1,2)
</span><span class='line'># add successful</span></code></pre></td></tr></table></div></figure>


<p>Because <code>print "add successful"</code> returns <code>nil</code>, <code>add_print</code> returns nil.</p>

<h1>Error Handling</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def do_something
</span><span class='line'>  raise "Failed to do something"
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>raise_exception
</span><span class='line'># RuntimeError: Failed to do something
</span><span class='line'>
</span><span class='line'>begin
</span><span class='line'>  do_something
</span><span class='line'>  puts "Done something"
</span><span class='line'>rescue
</span><span class='line'>  puts "Rescuing from exception"
</span><span class='line'>end
</span><span class='line'># Rescuing from exception</span></code></pre></td></tr></table></div></figure>


<p><code>retry</code> will return the cursor to start of the begin block it belongs to</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>i = 0
</span><span class='line'>begin
</span><span class='line'>  puts "#{i}"
</span><span class='line'>  i += 1
</span><span class='line'>  if i &lt; 2
</span><span class='line'>    do_something
</span><span class='line'>  end
</span><span class='line'>  puts "All done!"
</span><span class='line'>rescue
</span><span class='line'>  retry
</span><span class='line'>end
</span><span class='line'># 0
</span><span class='line'># 1
</span><span class='line'># All done!</span></code></pre></td></tr></table></div></figure>


<p>Also relevant later on, <a href="http://innig.net/software/ruby/closures-in-ruby">Closures</a> and <a href="https://rubymonk.com/learning/books/2-metaprogramming-ruby/chapters/32-introduction-to-metaprogramming/lessons/75-being-meta">Metaprogramming</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hash &amp; Symbols]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/29/hash-and-symbols/"/>
    <updated>2013-07-29T22:46:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/29/hash-and-symbols</id>
    <content type="html"><![CDATA[<p>Maps in the data structure sense is referred to in Ruby as Hashes. Map in Ruby is used in its functional programming definition.</p>

<h3>Construction</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>a = { "a" => "b", 3 => "d" }
</span><span class='line'># {"a"=>"b", 3=>"d"}
</span><span class='line'>b = Hash("a" => "b", 3 => "d")
</span><span class='line'># {"a"=>"b", 3=>"d"}
</span><span class='line'>
</span><span class='line'>c = {}
</span><span class='line'>d = Hash.new
</span><span class='line'>
</span><span class='line'>e = Hash.new(0)</span></code></pre></td></tr></table></div></figure>


<h3>Testing for Equality</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>a==b
</span><span class='line'># true
</span><span class='line'>a.equal? b
</span><span class='line'># false
</span><span class='line'>
</span><span class='line'>c==d
</span><span class='line'># true
</span><span class='line'>c.equal? d
</span><span class='line'># false</span></code></pre></td></tr></table></div></figure>


<h3>Retrieving from Hash</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>a["a"]
</span><span class='line'># "b"
</span><span class='line'>a[3]
</span><span class='line'># "d"
</span><span class='line'>
</span><span class='line'>a[4]
</span><span class='line'># nil
</span><span class='line'>e[4]
</span><span class='line'># 0</span></code></pre></td></tr></table></div></figure>


<h3>Adding values to the Hash</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>a[5] = 6
</span><span class='line'>puts a
</span><span class='line'># {"a"=>"b", 3=>"d", 5=>6}</span></code></pre></td></tr></table></div></figure>


<h3>Other useful functions</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>b.clear
</span><span class='line'>puts b
</span><span class='line'># {}
</span><span class='line'>
</span><span class='line'>a.empty?
</span><span class='line'># false
</span><span class='line'>b.empty?
</span><span class='line'># true
</span><span class='line'>
</span><span class='line'>a.length
</span><span class='line'># 3
</span><span class='line'>
</span><span class='line'>a.keys
</span><span class='line'># ["a", 3, 5]
</span><span class='line'>a.values
</span><span class='line'># ["b", "d", 6]</span></code></pre></td></tr></table></div></figure>


<h3>Iterating through the hash</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>a.each { |k,v| puts "The value for #{k} is #{v}" }
</span><span class='line'># The value for a is b
</span><span class='line'># The value for 3 is d
</span><span class='line'># The value for 5 is 
</span><span class='line'>
</span><span class='line'>a.each_key { |k| puts "The value for #{k} is #{a[k]}" }
</span><span class='line'># The value for a is b
</span><span class='line'># The value for 3 is d
</span><span class='line'># The value for 5 is 6
</span><span class='line'>
</span><span class='line'>a.each_value { |v| puts v }
</span><span class='line'># b
</span><span class='line'># d
</span><span class='line'># 6
</span><span class='line'>
</span><span class='line'>a.each do |k,v|
</span><span class='line'>  puts "The value for #{k} is #{v}"
</span><span class='line'>end
</span><span class='line'># The value for a is b
</span><span class='line'># The value for 3 is d
</span><span class='line'># The value for 5 is 6</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Loops]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/28/loops/"/>
    <updated>2013-07-28T21:09:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/28/loops</id>
    <content type="html"><![CDATA[<p>Like the if statements you saw 2 posts prior, there are many ways to construct loops. Not that there is no increment/decrement, <code>++/--</code>, operation in Ruby.</p>

<p>There is the while loop you&rsquo;re used to</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>i = 0
</span><span class='line'>while i &lt; 3 do
</span><span class='line'>  puts i
</span><span class='line'>  i += 1
</span><span class='line'>end
</span><span class='line'># 0
</span><span class='line'># 1
</span><span class='line'># 2</span></code></pre></td></tr></table></div></figure>


<p>While loops with the test at the end</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>i = 0
</span><span class='line'>begin
</span><span class='line'>  puts i
</span><span class='line'>  i += 1
</span><span class='line'>end while i &lt; 3
</span><span class='line'># 0
</span><span class='line'># 1
</span><span class='line'># 2
</span><span class='line'>
</span><span class='line'>i = 0
</span><span class='line'>begin
</span><span class='line'>  puts i
</span><span class='line'>  i += 1
</span><span class='line'>end while i &lt; 0
</span><span class='line'># 0</span></code></pre></td></tr></table></div></figure>


<p>There&rsquo;s the until loops which run while the condition is false</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>i = 0
</span><span class='line'>until i > 2
</span><span class='line'>  puts i
</span><span class='line'>  i += 1
</span><span class='line'>end
</span><span class='line'># 0
</span><span class='line'># 1
</span><span class='line'># 2
</span><span class='line'>
</span><span class='line'>i = 0
</span><span class='line'>begin
</span><span class='line'>  puts i
</span><span class='line'>  i += 1
</span><span class='line'>end until i >= 0</span></code></pre></td></tr></table></div></figure>


<p>And finally, my favourite &ndash; the for loops. If you already have a list to iterate through, great.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>a = [0, 1, 2]
</span><span class='line'>for i in a
</span><span class='line'>  puts i
</span><span class='line'>end
</span><span class='line'># 0
</span><span class='line'># 1
</span><span class='line'># 2</span></code></pre></td></tr></table></div></figure>


<p>If not, it&rsquo;s great too</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for i in 0..2
</span><span class='line'>  puts i
</span><span class='line'>end
</span><span class='line'># 0
</span><span class='line'># 1
</span><span class='line'># 2
</span><span class='line'>
</span><span class='line'>(0..2).each do |i|
</span><span class='line'>  puts i
</span><span class='line'>end
</span><span class='line'># 0
</span><span class='line'># 1
</span><span class='line'># 2</span></code></pre></td></tr></table></div></figure>


<p>There&rsquo;s also 4 keywords to help you manage the control of flow <code>break</code>, <code>next</code>, <code>redo</code> and finally <code>retry</code> which I&rsquo;ll bring up in the Error Handling section. <code>break</code> exits the inner most loop</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for i in 0..2
</span><span class='line'>  puts i
</span><span class='line'>  if i == 1
</span><span class='line'>    break
</span><span class='line'>  end
</span><span class='line'>end
</span><span class='line'># 0
</span><span class='line'># 1</span></code></pre></td></tr></table></div></figure>


<p>While <code>next</code> jumps to the next iteration of the loop</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for i in 0..2
</span><span class='line'>  if i == 1
</span><span class='line'>    next
</span><span class='line'>  end
</span><span class='line'>  puts i
</span><span class='line'>end
</span><span class='line'># 0
</span><span class='line'># 2
</span><span class='line'>
</span><span class='line'>for i in 0..2
</span><span class='line'>  if i == 2
</span><span class='line'>    next
</span><span class='line'>  end
</span><span class='line'>  puts i
</span><span class='line'>end
</span><span class='line'># 0
</span><span class='line'># 1</span></code></pre></td></tr></table></div></figure>


<p>And <code>redo</code> jumps back to the beginning of the current iteration in this loop</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>j = 0
</span><span class='line'>for i in 0..2
</span><span class='line'>  puts "i is #{i}"
</span><span class='line'>  puts "j is #{j}"
</span><span class='line'>  j += 1
</span><span class='line'>  if j > 2
</span><span class='line'>    break
</span><span class='line'>  end
</span><span class='line'>  if i == 1
</span><span class='line'>    redo
</span><span class='line'>  end
</span><span class='line'>end
</span><span class='line'># i is 0
</span><span class='line'># j is 0
</span><span class='line'># i is 1
</span><span class='line'># j is 1
</span><span class='line'># i is 1
</span><span class='line'># j is 2</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Arrays]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/28/arrays/"/>
    <updated>2013-07-28T20:21:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/28/arrays</id>
    <content type="html"><![CDATA[<p>Arrays in Ruby are very similar to those in other dynamic programming languages. It&rsquo;s all very standard and the documentation has loads of examples anyway, so I&rsquo;ll go through only the most basic and obvious to get started.</p>

<h3>Construction</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[1, "foo", nil, "bar"]
</span><span class='line'># [1, "foo", nil, "bar"]
</span><span class='line'>
</span><span class='line'>Array.new
</span><span class='line'># []
</span><span class='line'>Array.new(3, true)
</span><span class='line'># [true, true, true]
</span><span class='line'>
</span><span class='line'>(1..10).to_a
</span><span class='line'># [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
</span><span class='line'>("a7".."b5").to_a
</span><span class='line'># ["a7", "a8", "a9", "b0", "b1", "b2", "b3", "b4", "b5"]</span></code></pre></td></tr></table></div></figure>


<h3>Accessing elements and array info</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>arr = [1, 2, 3, 4, 5, 6]
</span><span class='line'>arr[2]
</span><span class='line'># 3
</span><span class='line'>arr[100]
</span><span class='line'># nil
</span><span class='line'>arr[-3]
</span><span class='line'># 4
</span><span class='line'>arr[2, 3]
</span><span class='line'># [3, 4, 5]
</span><span class='line'>arr[1..4]
</span><span class='line'># [2, 3, 4, 5]
</span><span class='line'>arr.at(0)
</span><span class='line'># 1
</span><span class='line'>
</span><span class='line'>arr.length
</span><span class='line'># 6
</span><span class='line'>arr.empty?
</span><span class='line'># false
</span><span class='line'>arr.include?(7)
</span><span class='line'># false</span></code></pre></td></tr></table></div></figure>


<h3>Adding to the array</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>arr.push(7)
</span><span class='line'># [1, 2, 3, 4, 5, 6, 7]
</span><span class='line'>arr &lt;&lt; 8
</span><span class='line'># [1, 2, 3, 4, 5, 6, 7, 8]
</span><span class='line'>
</span><span class='line'>arr.unshift(0)
</span><span class='line'># [0, 1, 2, 3, 4, 5, 6, 7]
</span><span class='line'>
</span><span class='line'>arr.insert(3, 2.5)
</span><span class='line'># [0, 1, 2, 2.5, 3, 4, 5, 6, 7]</span></code></pre></td></tr></table></div></figure>


<h3>Removing from Array</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>arr
</span><span class='line'># [0, 1, 2, 2.5, 3, 4, 5, 6, 7]
</span><span class='line'>
</span><span class='line'>arr.pop
</span><span class='line'># 7
</span><span class='line'># arr = [0, 1, 2, 2.5, 3, 4, 5, 6]
</span><span class='line'>
</span><span class='line'>arr.shift
</span><span class='line'># 0
</span><span class='line'># arr = [1, 2, 2.5, 3, 4, 5, 6]
</span><span class='line'>
</span><span class='line'>arr.delete(3)
</span><span class='line'># 2.5
</span><span class='line'># arr = [1, 2. 3, 4, 5, 6]</span></code></pre></td></tr></table></div></figure>


<h2>Print vs Puts</h2>

<p>Both these functions can be used to output text. To put it simply, puts adds a newline character to the end of each argument and outputs nil as an invisible character rather than a String. Refer to the link at the bottom for more discussion.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>print [nil, 1, 2]
</span><span class='line'># [nil, 1, 2]=> nil
</span><span class='line'>
</span><span class='line'>puts [nil, 1, 2]
</span><span class='line'># 
</span><span class='line'># 1
</span><span class='line'># 2</span></code></pre></td></tr></table></div></figure>


<ol>
<li><a href="http://ruby-doc.org/core-2.0/Array.html">Ruby-Docs Array</a></li>
<li><a href="http://stackoverflow.com/questions/5018633/what-is-the-difference-between-print-and-puts">Stack Overflow &ndash; What is the difference between print and puts</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Truthiness &amp; Control Flow]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/28/truthiness-and-control-flow/"/>
    <updated>2013-07-28T15:25:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/28/truthiness-and-control-flow</id>
    <content type="html"><![CDATA[<p>Ruby uses keywords true and false to represent truthiness and nil to represent a reference that points to nothing (usually some variation of null in other languages).</p>

<p>Like Fixnum from the previous post, these 3 keywords are immediate values.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>true.object_id
</span><span class='line'># 20
</span><span class='line'>true.object_id
</span><span class='line'># 20
</span><span class='line'>
</span><span class='line'>false.object_id
</span><span class='line'># 0
</span><span class='line'>false.object_id
</span><span class='line'># 0
</span><span class='line'>
</span><span class='line'>nil.object_id
</span><span class='line'># 8
</span><span class='line'>nil.object_id
</span><span class='line'># 8</span></code></pre></td></tr></table></div></figure>


<h2>Equality Testing</h2>

<p>There are 4 ways of testing for equality in Ruby. You&rsquo;ll be using one of them a majority of the time&hellip; <code>==</code>. Generally <code>==</code> represents equality of the values within the object while <code>.equal?</code> ensures that the 2 objects are one and the same (reference pointer comparison). However, as always, make sure you test your code thoroughly since these are just methods that are easy to override (more on this later). The other two are more obscure and depends much more on the implementation.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>"abc" == "abc"
</span><span class='line'># true
</span><span class='line'>"abc".equal? "abc"
</span><span class='line'># false
</span><span class='line'>
</span><span class='line'>1 == 1
</span><span class='line'># true
</span><span class='line'>1.equal? 1
</span><span class='line'># true
</span><span class='line'>1.eql? 1
</span><span class='line'># true
</span><span class='line'>
</span><span class='line'>1.0 == 1
</span><span class='line'># true
</span><span class='line'>1.0.equal? 1
</span><span class='line'># false
</span><span class='line'>1.0.eql? 1
</span><span class='line'># false</span></code></pre></td></tr></table></div></figure>


<h1>Control Flow</h1>

<p>As mentioned in the first post, Ruby was designed to be readable and flexible. I think control flow statements are the highlight. Further, it&rsquo;s important to always remember that false and nil are the only objects that can be &lsquo;untruthy&rsquo; (including 0).</p>

<p>Firstly, we have the very standard if-then-else statements.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>t = true
</span><span class='line'>
</span><span class='line'>if t
</span><span class='line'>  puts "t is true"
</span><span class='line'>else
</span><span class='line'>  puts "t is false"
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'># t is true
</span><span class='line'>
</span><span class='line'>num = 0
</span><span class='line'>
</span><span class='line'>if num &lt; 0
</span><span class='line'>  puts "num is negative"
</span><span class='line'>elsif num == 0
</span><span class='line'>  puts "num is zero"
</span><span class='line'>else
</span><span class='line'>  puts "num is positive"
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'># num is zero</span></code></pre></td></tr></table></div></figure>


<p>Then we have unless, which literally means if not. However, please avoid this if you need to use else (there is no secondary guard like elsif or elsunless) &ndash; it&rsquo;s only useful in causing confusion.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>t = true
</span><span class='line'>
</span><span class='line'>unless t
</span><span class='line'>  puts "t is false"
</span><span class='line'>else
</span><span class='line'>  puts "t is true"
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'># t is true</span></code></pre></td></tr></table></div></figure>


<p>A popular way of writing terse simple control flow without sacrificing on readability is to suffix the control to the line itself</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>puts "true" if true
</span><span class='line'># true
</span><span class='line'># => nil
</span><span class='line'>
</span><span class='line'>puts "false" unless true
</span><span class='line'># => nil</span></code></pre></td></tr></table></div></figure>


<p>Finally, we have the C-style single line statements</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>true ? true : false
</span><span class='line'># true
</span><span class='line'>
</span><span class='line'>false ? true : false
</span><span class='line'># false</span></code></pre></td></tr></table></div></figure>


<p>And many more complex variations of them. They&rsquo;re just another way of formatting the first option since they Ruby treats <code>;</code> as a new line. Please never write code like this :)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if true then true else false end
</span><span class='line'># true
</span><span class='line'>
</span><span class='line'>if true; true else false end
</span><span class='line'># true
</span><span class='line'>
</span><span class='line'>num = 0
</span><span class='line'>if num &lt; 0; puts "negative"; puts "lalala" elsif num > 0; puts "positive" else puts "zero" end
</span><span class='line'># zero
</span><span class='line'>
</span><span class='line'>num = -1
</span><span class='line'>if num &lt; 0; puts "negative"; puts "lalala" elsif num > 0; puts "positive" else puts "zero" end
</span><span class='line'># negative
</span><span class='line'># lalala
</span><span class='line'>
</span><span class='line'>num = 1
</span><span class='line'>if num &lt; 0; puts "negative"; puts "lalala" elsif num > 0; puts "positive" else puts "zero" end
</span><span class='line'># positive</span></code></pre></td></tr></table></div></figure>


<ol>
<li><a href="http://stackoverflow.com/questions/7156955/whats-the-difference-between-equal-eql-and/7157051#7157051">Stack Overflow &ndash; What&rsquo;s the difference between equal?, eql?, ===, and ==?</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Numbers]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/28/numbers/"/>
    <updated>2013-07-28T14:48:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/28/numbers</id>
    <content type="html"><![CDATA[<p>Like most (if not all) object oriented programming languages out there, Ruby has an Integer class and a Float class. Less common in standard libraries however, are the classes Rational and Complex which are used to represent fractions and complex numbers respectively.</p>

<h1>Integers</h1>

<p>In terms of functionality, there&rsquo;s little interesting with Integers. There&rsquo;s obviously adding, subtracting, multiplication, division, modulo and exponentials.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>1 + 2
</span><span class='line'># 3
</span><span class='line'>1 - 2
</span><span class='line'># -1 
</span><span class='line'>1 * 2
</span><span class='line'># 2
</span><span class='line'>2 / 1
</span><span class='line'># 2
</span><span class='line'>5 % 2
</span><span class='line'># 1
</span><span class='line'>2 ** 2
</span><span class='line'># 4</span></code></pre></td></tr></table></div></figure>


<p>There are also several methods for common operations</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>1.next
</span><span class='line'># 2
</span><span class='line'>1.even?
</span><span class='line'># false
</span><span class='line'>10.gcd(2)
</span><span class='line'># 2
</span><span class='line'>"10".to_i
</span><span class='line'># 10</span></code></pre></td></tr></table></div></figure>


<h2>Fixnum vs Bignum</h2>

<p>To make an analogy to Java and C, this is the comparison between int and long. In Ruby however, integers are not actually of the class Integer.</p>

<p>What we think of Integer is the Fixnum. It&rsquo;s used for all integers that would fit in a machine&rsquo;s &lsquo;word&rsquo;, otherwise it&rsquo;s a Bignum. Both these types inherit from the Integer class.</p>

<p>On this 64bit Mac, a word is 8 bytes. The class uses 1 bit mark the number as positive or negative, and another to mark the integer as value as opposed to a pointer (this is why object_id for Fixnum are always odd). As such, the maximum value for a Fixnum is 4611686018427387903 (2<sup>62</sup>-1) and the minimum is -4611686018427387904 (-2<sup>62</sup>). If an Fixnum leaves this range, Ruby automatically converts it to a Bignum and vice versa.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>FIXNUM_MAX = (2**(0.size * 8 -2) -1)
</span><span class='line'># 4611686018427387903
</span><span class='line'>FIXNUM_MIN = -(2**(0.size * 8 -2))
</span><span class='line'># -4611686018427387904
</span><span class='line'>FIXNUM_MAX.class
</span><span class='line'># Fixnum
</span><span class='line'>bignum = FIXNUM_MAX + 1
</span><span class='line'>bignum.class
</span><span class='line'># Bignum
</span><span class='line'>(bignum-1).class
</span><span class='line'># Fixnum</span></code></pre></td></tr></table></div></figure>


<p>The biggest difference between these classes is that, like Java ints, Fixnum objects are immediate value. They are not references to another object. Remember in the last post when repeating <code>"xyzxyz".object_id</code> would return a different number everytime? This won&rsquo;t be the case for Fixnum. In fact, object_id of Fixnum are predictable. For positive numbers, the id is simply 2 * value + 1. Similarly, 2 * value &ndash; 1 for negative numbers.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>4611686018427387903.object_id
</span><span class='line'># 9223372036854775807
</span><span class='line'>4611686018427387903.object_id
</span><span class='line'># 9223372036854775807
</span><span class='line'>
</span><span class='line'>-4611686018427387904.object_id
</span><span class='line'># -9223372036854775807</span></code></pre></td></tr></table></div></figure>


<h1>Rationals</h1>

<p>Rationals are useful for calculations because they come with the accuracy that&rsquo;s missing from floats. There are 3 ways to create them</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Rational(1, 2)
</span><span class='line'># (1/2)
</span><span class='line'>"1/2".to_r
</span><span class='line'># (1/2)
</span><span class='line'>0.5.rationalize
</span><span class='line'># (1/2)
</span><span class='line'>
</span><span class='line'>Rational(1,2) + Rational(2,3)
</span><span class='line'># (7/6)
</span><span class='line'>Rational(7,6).to_f
</span><span class='line'># 1.1666666666666667</span></code></pre></td></tr></table></div></figure>


<h1>Float</h1>

<p>Like integers, Float&rsquo;s methods are quite standard.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>1.2345.to_i
</span><span class='line'># 1
</span><span class='line'>1.2345.floor
</span><span class='line'># 1
</span><span class='line'>9.87654321.round(3)
</span><span class='line'># 9.877
</span><span class='line'>(0.0).infinite?
</span><span class='line'># nil
</span><span class='line'>(-1.0/0.0).infinite?
</span><span class='line'># -1
</span><span class='line'>(+1.0/0.0).infinite?
</span><span class='line'># 1
</span><span class='line'>0.3.rationalize
</span><span class='line'># (3/10)</span></code></pre></td></tr></table></div></figure>


<p>However, it&rsquo;s important to note that floating point calculations are inaccurate, like almost every programming langauge (can&rsquo;t name any with).</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>0.3.to_r
</span><span class='line'># (5404319552844595/18014398509481984)
</span><span class='line'>printf("%.55f\n", 1.9)
</span><span class='line'>1.8999999999999999111821580299874767661094665527343750000</span></code></pre></td></tr></table></div></figure>


<ol>
<li><a href="http://www.ruby-doc.org/core-2.0/Integer.html">Ruby-Docs Integer</a></li>
<li><a href="http://www.ruby-doc.org/core-2.0/Fixnum.html">Ruby-Docs Fixnum</a></li>
<li><a href="http://www.ruby-doc.org/core-2.0/Bignum.html">Ruby-Dics Bignum</a></li>
<li><a href="http://www.ruby-doc.org/core-2.0/Float.html">Ruby-Docs Float</a></li>
<li><a href="http://www.ruby-doc.org/core-2.0/Rational.html">Ruby-Docs Rationals</a></li>
<li><a href="http://www.ruby-doc.org/core-2.0/Complex.html">Ruby-Docs Complex</a></li>
<li><a href="http://stackoverflow.com/questions/535721/ruby-max-integer">Stack Overflow Ruby max integer</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Strings]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/27/strings/"/>
    <updated>2013-07-27T17:34:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/27/strings</id>
    <content type="html"><![CDATA[<p>There isn&rsquo;t much special about Ruby strings. Try the code snippets below in irb.</p>

<h2>Construction</h2>

<p>Strings can be created either using literals, or the new function.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>a = "abcde"
</span><span class='line'>puts a
</span><span class='line'># abcde
</span><span class='line'># => nil
</span><span class='line'>
</span><span class='line'>b = String.new "fghij"
</span><span class='line'>puts b
</span><span class='line'># fghij
</span><span class='line'># => nil</span></code></pre></td></tr></table></div></figure>


<h2>Instance Functions</h2>

<p>Like <code>java.lang.String</code>, there are loads of predefined methods for the class. Remeber to refer to the Class documentation; there are code samples in there too. I&rsquo;m just going to give you a taste of what&rsquo;s available.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>a.length
</span><span class='line'># 1
</span><span class='line'>a.next
</span><span class='line'># abcdf
</span><span class='line'>a.reverse
</span><span class='line'># edcba
</span><span class='line'>a.upcase
</span><span class='line'># ABCDE
</span><span class='line'>a.slice(3, 5)
</span><span class='line'># de</span></code></pre></td></tr></table></div></figure>


<p>You&rsquo;ll notice that the methods above only returns the result of the function. Some methods makes changes to the string in place.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>c = "ababab"
</span><span class='line'>c.reverse!
</span><span class='line'>puts c
</span><span class='line'># bababa
</span><span class='line'>
</span><span class='line'>c.upcase!
</span><span class='line'>puts c
</span><span class='line'># BABABA</span></code></pre></td></tr></table></div></figure>


<p>Like Perl, Strings in Ruby are mutable. The object_id method I&rsquo;m using below returns the id of the object, similar to the &amp; operator in C. Strings inherit this from the Object class. Note that String objects are created every time a String literal is used.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>"xyzxyz".object_id
</span><span class='line'># 70243133245180
</span><span class='line'>"xyzxyz".object_id
</span><span class='line'># 70243133228560
</span><span class='line'>
</span><span class='line'>d = "xyzxyz"
</span><span class='line'>d.object_id
</span><span class='line'># 70243133212180
</span><span class='line'>d.reverse!
</span><span class='line'># "zyxzyx"
</span><span class='line'>d.object_id
</span><span class='line'># 70243133212180</span></code></pre></td></tr></table></div></figure>


<h2>Building a String</h2>

<p>Strings can be built from variables in 4 different ways. The first two is probably the most commonly used</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>e = "abc"
</span><span class='line'>f = "def"
</span><span class='line'>g = 10
</span><span class='line'>h = e + " + " + f + " is not equal to " + g.to_s
</span><span class='line'>i = "#{e} + #{f} is not equal to #{g}"
</span><span class='line'>puts h
</span><span class='line'>puts i
</span><span class='line'># abc + def is not equal to 10</span></code></pre></td></tr></table></div></figure>


<p>The third way is appending to strings. It&rsquo;s more efficient in that it simply adds to a string instead of creating a new one, but it does change the string that is being appended to.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>j = e &lt;&lt; " + " &lt;&lt; f &lt;&lt; " is not equal to " &lt;&lt; g.to_s
</span><span class='line'># abc + def is not equal to 10
</span><span class='line'>
</span><span class='line'>j.object_id
</span><span class='line'># 70243124981460
</span><span class='line'>e.object_id
</span><span class='line'># 70243124981460
</span><span class='line'>f.object_id
</span><span class='line'># 70243124965700
</span><span class='line'>
</span><span class='line'>puts e
</span><span class='line'># abc + def is not equal to 10
</span><span class='line'>puts f
</span><span class='line'># def</span></code></pre></td></tr></table></div></figure>


<p>The first line basically means, append &ldquo; + &rdquo; to e, then append f to e, then append &ldquo; is not equal to &rdquo; to e, and finally append g.to_s to e. I will demonstrate the final way when we get to the Arrays section.</p>

<h2>Escaping characters</h2>

<p>If the String you&rsquo;re after is literally <code>#{e} + #{f} is not equal to #{g}</code>, ie. you don&rsquo;t want Ruby to evaluate e, f, and g, you can escape the <code>#{}</code> blocks by prepending the # with a backslash <code>\</code>. Alternatively, you can use single quotes instead of double quotes, and Ruby will escape those characters for you.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>puts "\#{e} + \#{f} is not equal to \#{g}""
</span><span class='line'># #{e} + #{f} is not equal to #{g}
</span><span class='line'>puts '#{e} + #{f} is not equal to #{g}'
</span><span class='line'># #{e} + #{f} is not equal to #{g}
</span><span class='line'>a = '#{e} + #{f} is not equal to #{g}'
</span><span class='line'># "\#{e} + \#{f} is not equal to \#{g}"</span></code></pre></td></tr></table></div></figure>


<h2>Ruby Documentation</h2>

<p>There&rsquo;s two way to access the API documentation, online through <a href="http://ruby-doc.org/">http://ruby-doc.org/</a>, or offline in your command line with ri.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ri String
</span><span class='line'>ri String#object_id</span></code></pre></td></tr></table></div></figure>


<p>Unofficially, (if you don&rsquo;t already) you&rsquo;ll learn to love Google and Stack Overflow too :)</p>

<ol>
<li><a href="http://ruby-doc.org/core-2.0/String.html">Ruby Docs &ndash; String</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hello World]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/27/hello-world/"/>
    <updated>2013-07-27T14:10:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/27/hello-world</id>
    <content type="html"><![CDATA[<p>It&rsquo;s finally time to start coding. Start by cloning the git repository I&rsquo;ve prepared for this demonstration.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git@github.com:nizhu/ruby-intro.git ~/ruby-intro
</span><span class='line'>cd ~/ruby-intro
</span><span class='line'>ls</span></code></pre></td></tr></table></div></figure>


<p>You&rsquo;ll notice that there are lots of files here, most of which you don&rsquo;t need yet so let&rsquo;s get rid of them for now</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git checkout hello-world
</span><span class='line'>ls</span></code></pre></td></tr></table></div></figure>


<p>Now there&rsquo;s only a license file, telling you that you have permission to use all of the code in this repository for whatever purpose, but I will not take any responsibility for any side effects caused by it&hellip;. in lawyer-speak, and a README file that doesn&rsquo;t tell you very much.</p>

<p>I promise we&rsquo;re almost there, just open your favourite text editor</p>

<figure class='code'><figcaption><span>hello_world.rb </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">puts</span> <span class="s2">&quot;Hello World&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s it! Save it as hello_world.rb, exit, and now we can run the file. Note that # is the comment delimiter in Ruby and Shell so I will be using that to give you an idea of the expected result of the line preceding it.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ruby hello_world.rb
</span><span class='line'># Hello World</span></code></pre></td></tr></table></div></figure>


<p>Like shell scripts, you can also run them as executables. Create another file:</p>

<figure class='code'><figcaption><span>hello_world_exe.rb </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#!/usr/bin/env ruby</span>
</span><span class='line'><span class="nb">puts</span> <span class="s2">&quot;Hello World&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>And give it executable permission, and run it.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>chmod +x hello_world_exe.rb
</span><span class='line'>./hello_world_exe.rb</span></code></pre></td></tr></table></div></figure>


<p>Hashbangs will be explained at the end of this post for those curious</p>

<h2>Interactive Ruby Shell</h2>

<p>irb is a tool that provides an interface to Ruby. It&rsquo;s a great feature, especially for developers new to Ruby because it allows one to interact with Ruby for instant feedback, and build up to a complex script line by line. Code behaves exactly the same way in irb as it would in the method described above. So open up irb and write Hello World again.</p>

<p>You&rsquo;ll notice that after printing Hello World, it also says nil. This is the &lsquo;null&rsquo; value in Ruby, but don&rsquo;t worry about why it&rsquo;s doing so for now. This will be explained in the Functions section.</p>

<p>If you want to import files that you&rsquo;ve written, there are two ways to do so. A file that is imported in irb is executed just as it would if it had been imported through normal code, and it is the same as if it had been copy and pasted into irb. The following demonstrates the two major difference between the two options so try this out in irb:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>load 'hello_world.rb'
</span><span class='line'># Hello World
</span><span class='line'># => true
</span><span class='line'>load 'hello_world.rb'
</span><span class='line'># Hello World
</span><span class='line'># => true
</span><span class='line'>require 'hello_world'
</span><span class='line'># Hello World
</span><span class='line'># => true
</span><span class='line'>require 'hello_world'
</span><span class='line'># => false</span></code></pre></td></tr></table></div></figure>


<p>The differences are:
* require will not import a file more than once
* file extension is not necessary when importing with require</p>

<p>Generally it&rsquo;s more appropriate to use require unless you do need to execute some code more than once.</p>

<h2>Hashbangs</h2>

<p>You might have come across this in COMP2041. This is the line at the top of scripts that tells your shell what to execute it with &ndash; your shell will simply interpret it as a shell script without it.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>chmod +x hello_world.rb
</span><span class='line'>./hello_world.rb
</span><span class='line'># ./hello_world.rb: line 1: puts: command not found</span></code></pre></td></tr></table></div></figure>


<h3>/usr/bin/env</h3>

<p>The characters following the exclamation mark is the path of the executable that you want to run the script with.</p>

<p>Since you now have several different versions of Ruby installed, it&rsquo;s best to make the script run with the version that you intend to. rbenv controls the Ruby version in your environment, so that&rsquo;s the best one to use! By <code>/usr/bin/env ruby</code>, the script will be run with the same ruby as typing ruby in the command line. To demonstrate, create the 2 files below, and then enter the following commands (make note of the versions):</p>

<figure class='code'><figcaption><span>version_system.rb </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#!/usr/bin/ruby</span>
</span><span class='line'><span class="nb">puts</span> <span class="no">RUBY_VERSION</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>version_env.rb </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#!/usr/bin/env ruby</span>
</span><span class='line'><span class="nb">puts</span> <span class="no">RUBY_VERSION</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ruby -v
</span><span class='line'># ruby 2.0.0p247 (2013-06-27 revision 41674) [x86_64-darwin12.4.0]
</span><span class='line'>/usr/bin/ruby -v
</span><span class='line'># ruby 1.8.7 (2012-02-08 patchlevel 358) [universal-darwin12.0]
</span><span class='line'>chmod +x version_env.rb
</span><span class='line'>./version_env.rb
</span><span class='line'># 2.0.0
</span><span class='line'>chmod +x version_system.rb
</span><span class='line'>./version_system.rb
</span><span class='line'># 1.8.7</span></code></pre></td></tr></table></div></figure>


<ol>
<li><a href="http://en.wikipedia.org/wiki/Interactive_Ruby_Shell">Wikipedia on Hashbangs</a></li>
<li><a href="http://en.wikipedia.org/wiki/Shebang_(Unix)">Wikipedia on irb</a></li>
<li><a href="http://www.skorks.com/2009/08/digging-into-a-ruby-installation-require-vs-load/">Alan Skorkin on Require vs Load</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Installing Ruby]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/27/installing-ruby/"/>
    <updated>2013-07-27T12:21:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/27/installing-ruby</id>
    <content type="html"><![CDATA[<p>When I was first starting out in Ruby, this is what gave me the biggest problems. One can install from their operating system&rsquo;s package manager easily enough (likely be installed already with the system), but because of how quickly the Ruby community moves, using system Ruby is generally not a good idea. Every now and then, you&rsquo;ll come across version incompatibility issues and if you need to work on different apps with different versions of Ruby, then you&rsquo;re in a bit of a mess. Not to mention the permission issues.</p>

<p>To get around this, we use a Ruby version manager &ndash; one named simply rvm, and another, rbenv.</p>

<p>I will be going through installing Ruby with rbenv on Bash with you simply because I&rsquo;ve personally had fewer issues with it integrating with our Bamboo continuous integration environment, but that&rsquo;s a story for another day. You&rsquo;ll no doubt come across problems that I didn&rsquo;t foresee. If it tells you of a missing dependency, just install it. Setting up Ruby was a great exercise in google-fu for me; don&rsquo;t be discouraged if you end up having to reinstall several times.</p>

<p>Please read the OSX comments even if you don&rsquo;t have OSX!</p>

<h2>OSX</h2>

<p>If you have a Mac, you&rsquo;re in luck &ndash; you have Homebrew. If you don&rsquo;t, just install it with <code>ruby -e "$(curl -fsSL https://raw.github.com/mxcl/homebrew/go)"</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>brew update
</span><span class='line'>brew install rbenv</span></code></pre></td></tr></table></div></figure>


<p>Unfortunately, a plugin is required to install Ruby with rbenv</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>brew install ruby-build</span></code></pre></td></tr></table></div></figure>


<p>&lsquo;Turn on&rsquo; rbenv</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi</span></code></pre></td></tr></table></div></figure>


<p>Set up bash to always enable rbenv if available</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>echo 'if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi' >> ~/.profile</span></code></pre></td></tr></table></div></figure>


<p>Add rbenv&rsquo;s executables to your PATH</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># My rbenv is installed in /usr/loca/opt/rbenv, but yours may be in ~/.rbenv
</span><span class='line'># Change the line below appropriately
</span><span class='line'>echo 'export PATH=/usr/local/opt/rbenv/shims:$PATH'</span></code></pre></td></tr></table></div></figure>


<p>Finally install Ruby 2.0.0-p247</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rbenv install 2.0.0-p247
</span><span class='line'># Command below refreshes rbenv's executables.
</span><span class='line'># Make sure you run this every time you (un)install a ruby or a gem - more on this later
</span><span class='line'>rbenv rehash</span></code></pre></td></tr></table></div></figure>


<h2>Debian/Ubuntu/Linux Mint</h2>

<p>For fun times, install these dependencies</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>apt-get install build-essential openssl libreadline6 libreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev ncurses-dev automake libtool bison subversion pkg-config</span></code></pre></td></tr></table></div></figure>


<p>Install rbenv + ruby-build</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone https://github.com/sstephenson/rbenv.git ~/.rbenv
</span><span class='line'>echo 'export PATH="$HOME/.rbenv/bin:$PATH"' >> ~/.bashrc
</span><span class='line'>echo 'eval "$(rbenv init -)"' >> ~/.bashrc
</span><span class='line'>exec $SHELL -l
</span><span class='line'>mkdir -p ~/.rbenv/plugins
</span><span class='line'>git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build
</span><span class='line'>rbenv install 2.0.0-p247
</span><span class='line'>rbenv rehash</span></code></pre></td></tr></table></div></figure>


<h2>Keeping legacy code consistent</h2>

<p>You may have Ruby scripts before installing rbenv that ran with system Ruby, so it&rsquo;s best to keep it that way. To ensure that this happens, we can make system ruby the default for rbenv.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rbenv global system
</span><span class='line'>rbenv version
</span><span class='line'># system (set by /usr/local/opt/rbenv/version)</span></code></pre></td></tr></table></div></figure>


<h2>Make rbenv use a specific version</h2>

<p>Whenever you interact with rbenv, it will look in your current directory for a file named .rbenv-version before falling back to the global default. Try the following:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd /tmp
</span><span class='line'>rbenv version
</span><span class='line'># system (set by /usr/local/opt/rbenv/version)
</span><span class='line'>echo '2.0.0-p247' > .rbenv-version
</span><span class='line'># 2.0.0-p247 (set by /tmp/.rbenv-version)</span></code></pre></td></tr></table></div></figure>


<p>The best thing about forcing versions is that you can commit this file to your code repository, and it will ensure that developer on every machine using rbenv will be using the version of Ruby that is intended.</p>

<ol>
<li><a href="https://rvm.io/">rvm</a></li>
<li><a href="https://github.com/sstephenson/rbenv">rbenv</a></li>
<li><a href="https://en.wikipedia.org/wiki/Continuous_integration">Wikipedia on Continuous Integration</a></li>
<li><a href="https://www.atlassian.com/software/bamboo">Atlassian Bamboo</a></li>
<li><a href="http://brew.sh/">Homebrew</a></li>
<li><a href="https://github.com/sstephenson/rbenv#installation">Installing rbenv</a></li>
<li><a href="https://github.com/sstephenson/ruby-build">ruby-build rbenv plugin</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Intro to intro]]></title>
    <link href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/27/intro-to-intro/"/>
    <updated>2013-07-27T10:37:00+10:00</updated>
    <id>http://nizhu.github.io/ruby-intro-site/blog/2013/07/27/intro-to-intro</id>
    <content type="html"><![CDATA[<p>Ruby is a dynamic, object oriented programming language that first appeared toward the end of 1995, so it&rsquo;s a bit younger than the other 2 similar, mainstream languages, Python and Perl. In my opinion, it&rsquo;s more hipster and better looking than its cousins, and intuitively, it&rsquo;s as close to English as general purpose programming languages go. As such Ruby is one of the easiest languages to grok.</p>

<p>It really only appeared out of obscurity in 2005 with the rise in popularity of the Ruby-based web application framework, Rails. It has however, greatly matured since then.</p>

<p>There are many different implementations around, including one (JRuby) which compiles your Ruby code to run on the JVM. It allows you to use native Java classes in your Ruby code, and Ruby classes in your Java code. I&rsquo;m not familiar with the obvious benefits of using these features, but if you ever feel like writing a Swing app with Ruby, you have that option.</p>

<p>The main C-based implementation, also known as MRI, is now up to version 2.0.0-p247. The first version of 2.0.0 was released less than 6 months ago, but the release was designed to be backward compatible with 1.9.3 (with 5 minor exceptions) so one should be able to use any Ruby documentation from the last 6 or so years with little issue.</p>

<ol>
<li><a href="http://www.ruby-lang.org/en/about/">Official About Ruby</a></li>
<li><a href="http://en.wikipedia.org/wiki/Ruby_(programming_language)">Wikipedia on Ruby</a></li>
<li><a href="http://en.wikipedia.org/wiki/JRuby">Wikipedia on JRuby</a></li>
<li><a href="http://www.ruby-lang.org/en/news/2013/02/24/ruby-2-0-0-p0-is-released/">Ruby 2.0.0 Release Notes</a></li>
</ol>

]]></content>
  </entry>
  
</feed>
