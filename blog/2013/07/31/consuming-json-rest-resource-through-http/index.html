
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Consuming JSON REST resource through HTTP - Ruby Intro</title>
  <meta name="author" content="Nick Zhu">

  
  <meta name="description" content="As you saw in the previous post, XML is an overly verbose format so in the last few years, what we call JSON (JavaScript Object Notation) has come to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://nizhu.github.io/ruby-intro-site/blog/2013/07/31/consuming-json-rest-resource-through-http">
  <link href="/ruby-intro-site/favicon.png" rel="icon">
  <link href="/ruby-intro-site/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/ruby-intro-site/atom.xml" rel="alternate" title="Ruby Intro" type="application/atom+xml">
  <script src="/ruby-intro-site/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/ruby-intro-site/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/ruby-intro-site/">Ruby Intro</a></h1>
  
    <h2>SENG2011</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/ruby-intro-site/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:nizhu.github.io/ruby-intro-site" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/ruby-intro-site/">Blog</a></li>
  <li><a href="/ruby-intro-site/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Consuming JSON REST Resource Through HTTP</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-31T21:44:00+10:00" pubdate data-updated="true">Jul 31<span>st</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>As you saw in the previous post, XML is an overly verbose format so in the last few years, what we call JSON (JavaScript Object Notation) has come to dominate web communication. Ideally I&rsquo;d be demonstrating this with Twitter&rsquo;s API since you&rsquo;re likely to use it for this assignment, but since mid June this year, the Twitter API requires OAuth to access. I will be address this in the next post.</p>

<p>If you&rsquo;ve been writing Javascript, you love JSON. If you haven&rsquo;t, you soon will. Note that spaces, tabs and line breaks are all optional. I&rsquo;ve just added those to make it easier to read.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>  "id": 32,
</span><span class='line'>  "name": "Mother Duck",
</span><span class='line'>  "children":[
</span><span class='line'>    {
</span><span class='line'>      "id": 12345,
</span><span class='line'>      "name": "Claire"
</span><span class='line'>    },
</span><span class='line'>    {
</span><span class='line'>      "id": 12372,
</span><span class='line'>      "name": "Daniel"
</span><span class='line'>    }
</span><span class='line'>  ],
</span><span class='line'>  "isAlive": true
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s all there is to JSON, very simple, very clear. <code>{}</code> encapsulates object/map/hash, while <code>[]</code> encapsulates an array, both of which can be nested infinitely. Otherwise only strings, numbers, booleans and null are supported values.</p>

<h2>Github API</h2>

<p>GitHub is an online source repository, extremely popular with open source projects. You won&rsquo;t be using any data from it for your projects, but it&rsquo;s the first public JSON API that came across my mind. I&rsquo;m sure you&rsquo;ll be using it somewhere in your career though. For this demonstration, I&rsquo;ll just be using the most simple of calls, retrieving the details of the GitHub user octocat. The documentation for GitHub&rsquo;s API is available <a href="http://developer.github.com/v3/">here</a>.</p>

<p>The easiest way to access this data, is to simply open a web browser and go to <code>https://api.github.com/users/octocat</code>. Next step further is accessing it through cURL.. <code>curl https://api.github.com/users/octocat</code>. Let&rsquo;s do it in Ruby.</p>

<h2>Retrieving with Net/HTTP and parsing with json</h2>

<p><a href="http://ruby-doc.org/stdlib-2.0/libdoc/net/http/rdoc/Net/HTTP.html">Net/HTTP</a> is a standard Ruby library, and it&rsquo;ll be your interface to the internet. JSON is a simple parser, but is not standard. As before, install the gem with <code>gem install json</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>require 'net/http'
</span><span class='line'>require 'json'
</span><span class='line'>
</span><span class='line'>uri = URI('https://api.github.com/users/octocat')
</span><span class='line'>response = Net::HTTP.get uri
</span><span class='line'>octocat = JSON.parse response
</span><span class='line'>
</span><span class='line'>octocat.keys
</span><span class='line'># ["login", "id", "avatar_url", "gravatar_id", "url", "html_url", "followers_url", "following_url", "gists_url", "starred_url", "subscriptions_url", "organizations_url", "repos_url", "events_url", "received_events_url", "type", "name", "company", "blog", "location", "email", "hireable", "bio", "public_repos", "followers", "following", "created_at", "updated_at", "public_gists"]
</span><span class='line'>
</span><span class='line'>octocat["followers"]
</span><span class='line'># 398
</span><span class='line'>octocat["public_repos"]
</span><span class='line'># 3
</span><span class='line'>octocat["hireable"]
</span><span class='line'># false</span></code></pre></td></tr></table></div></figure>


<p>I had some issues here with openssl on the Mac, but the update instructions with Homebrew found <a href="http://railsapps.github.io/openssl-certificate-verify-failed.html">here</a> worked perfectly.</p>

<ol>
<li><a href="http://json.org/example.html">JSON Examples</a></li>
<li><a href="http://ruby-doc.org/stdlib-2.0/libdoc/net/http/rdoc/Net/HTTP.html">Ruby Net/HTTP</a></li>
<li><a href="http://flori.github.io/json/doc/index.html">Rubygem json</a></li>
</ol>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Nick Zhu</span></span>

      








  


<time datetime="2013-07-31T21:44:00+10:00" pubdate data-updated="true">Jul 31<span>st</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/ruby-intro-site/blog/categories/ruby/'>Ruby</a>, <a class='category' href='/ruby-intro-site/blog/categories/seng2021/'>SENG2021</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="/ruby-intro-site//twitter.com/share" class="twitter-share-button" data-url="http://nizhu.github.io/ruby-intro-site/blog/2013/07/31/consuming-json-rest-resource-through-http/" data-via="" data-counturl="http://nizhu.github.io/ruby-intro-site/blog/2013/07/31/consuming-json-rest-resource-through-http/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/ruby-intro-site/blog/2013/07/31/parsing-xml-with-xmlsimple/" title="Previous Post: Parsing XML with XMLSimple">&laquo; Parsing XML with XMLSimple</a>
      
      
        <a class="basic-alignment right" href="/ruby-intro-site/blog/2013/08/01/accessing-the-twitter-api/" title="Next Post: Accessing Twitter's API">Accessing Twitter's API &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/ruby-intro-site/blog/2013/08/01/accessing-the-twitter-api/">Accessing Twitter's API</a>
      </li>
    
      <li class="post">
        <a href="/ruby-intro-site/blog/2013/07/31/consuming-json-rest-resource-through-http/">Consuming JSON REST Resource Through HTTP</a>
      </li>
    
      <li class="post">
        <a href="/ruby-intro-site/blog/2013/07/31/parsing-xml-with-xmlsimple/">Parsing XML With XMLSimple</a>
      </li>
    
      <li class="post">
        <a href="/ruby-intro-site/blog/2013/07/31/classes/">Classes</a>
      </li>
    
      <li class="post">
        <a href="/ruby-intro-site/blog/2013/07/30/functions/">Functions</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Nick Zhu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
